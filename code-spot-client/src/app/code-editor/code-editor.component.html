<!-- <button (click)="printSelect();">Print select</button>
<button (click)="printCursor();">Print cursor</button> -->

<div
  *ngIf="!ready"
  class="d-flex ml-3 mr-2 justify-content-center align-items-center loading"
>
  <div class="text-center">
    <div
      class="spinner-grow mb-3"
      style="width: 3rem; height: 3rem;"
      role="status"
    ></div>
    <br />
    <h2>Loading...</h2>
    <p>This will only take a second.</p>
  </div>
</div>

<div class="d-flex ml-3 mr-2 flex-md-row flex-column mt-4">
  <form class="form-horizontal col-md-9 col-xs-12" [formGroup]="editorForm">
    <div class="d-flex form-row">
      <!--Select Language-->
      <div *ngIf="ready" class="form-group">
        <div class="col-sm-2 pl-0">
          <select
            class="form-control"
            formControlName="language"
            (change)="onLanguageChange($event.target.value)"
          >
            <option
              *ngFor="let language of languages"
              [ngValue]="language.value"
            >
              {{ language.name }}
            </option>
          </select>
        </div>
      </div>
      <!--Select Theme-->
      <div *ngIf="ready" class="form-group">
        <div class="col-sm-2 pl-0">
          <select
            class="form-control"
            formControlName="theme"
            (change)="onThemeChange($event.target.value)"
          >
            <option *ngFor="let theme of themes" [ngValue]="theme.value">
              {{ theme.name }}
            </option>
          </select>
        </div>
      </div>
    </div>
    <!-- Aux Editor needs to initialize early-->
    <ngx-monaco-editor
      class="solution-code-editor"
      [options]="editorOptions"
      (onInit)="onInitAuxEditorHandler($event)"
      style="display: none;"
    >
    </ngx-monaco-editor>

    <!-- Main Editor-->
    <div>
      <ngx-monaco-editor
        [style.visibility]="ready ? 'visible' : 'hidden'"
        class="solution-code-editor"
        [options]="editorOptions"
        (onInit)="onInitEditorHandler($event)"
      ></ngx-monaco-editor>
      <div class="btn-container d-flex">
        <button
          class="btn btn-md btn-navy mt-3 mb-4 font-weight-bold"
          (click)="copyLink()"
        >
          Get shareable link!
        </button>
      </div>
    </div>
  </form>

  <!--Chat Box -->
  <app-chatbox
    [style.visibility]="ready ? 'visible' : 'hidden'"
    class="mt-5 ml-1"
  ></app-chatbox>
</div>
